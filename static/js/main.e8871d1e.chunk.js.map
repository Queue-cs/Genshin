{"version":3,"sources":["../../genshin-db/src/main.js","../../genshin-db/src/language.js","../../genshin-db/src/folder.js","../../genshin-db/src/getdata.js","../../genshin-db/src/altnames.js","../../genshin-db/src/helper.js","components/Characters/Characters.js","components/NavBar.js","components/Icon.js","components/Tags/Tags.js","components/Tags/VisionTags.js","components/Tags/WeaponTags.js","components/Tags/CharacterRarityTags.js","Utils.js","components/Characters/CharactersList.js","components/Characters/CharacterInfoHeader.js","components/Characters/CharacterInfoStats.js","components/Characters/CharacterInfoTalent.js","components/Characters/CharacterInfoPassive.js","components/Characters/CharacterInfoConstellations.js","components/ItemIcon.js","components/Characters/CharacterInfoAscCosts.js","components/Characters/CharacterinfoTalentCosts.js","components/Characters/CharacterInfo.js","components/Updates.js","components/About.js","components/Tags/WeaponRarityTags.js","components/Weapons/WeaponsList.js","components/Weapons/Weapons.js","components/App.js","store/Store.js","index.js"],"names":["fuzzysort","require","language","Folder","altnames","getData","getIndex","genshin","baseoptions","matchAltNames","matchAliases","matchCategories","verboseCategories","queryLanguages","resultLanguage","sanitizeOptions","opts","sanOpts","forEach","prop","format","undefined","Array","isArray","searchFolder","query","folder","getfilename","Object","assign","input","dict","result","go","limit","target","autocomplete","querylangs","lang","index","names","concat","keys","getAltNamesList","aliases","categories","buildQueryDict","langindex","filename","getFilename","reslangindex","values","reduce","accum","res","namemap","push","setOptions","options","getOptions","JSON","parse","stringify","characters","character","talents","talent","weapons","weapon","weaponmaterialtypes","weaponmaterialtype","talentmaterialtypes","talentmaterialtype","materials","material","elements","element","constellations","constellation","artifacts","artifact","rarity","foods","food","domains","domain","enemies","enemy","helper","Language","LanguagesEnum","Languages","Folders","addAltName","altname","removeAltNames","setAltNameLimits","setLimit","module","exports","languageMap","languages","languageCodes","languageDict","localeMap","langs","length","autocompleteLanguage","tmp","l","includes","alldata","allindex","allimage","allurl","allstats","allcurve","availableimage","availableurl","availablestats","calcStatsMap","mystats","getStats","mycurve","getCurve","level","ascension","parseInt","isNaN","getPromotionBonus","promotion","phase","output","hp","base","curve","attack","defense","specialized","critrate","critdmg","maxlevel","getImage","e","promotions","Number","isFinite","images","url","getURL","stats","combat1","parameters","data","myparams","attributes","setAttributesTalent","altnameindex","count","baselimits","maxLength","maxCount","isValidFolder","isValidLanguage","isEmpty","obj","x","hasOwnProperty","limits","isValidAltName","isValidFilename","str","normalize","replace","toLowerCase","substat","subvalue","effect","numbers","i","acc","curr","RegExp","NavLinks","onClick","Fragment","Nav","Item","eventKey","componentClass","Link","to","NavBar","observer","props","toggleMenu","setState","showMenu","state","onWindowScroll","currentScroll","window","pageYOffset","delta","prevScroll","Math","abs","hide","top","addEventListener","this","removeEventListener","store","isXS","activeKey","windowWidth","location","pathname","barStyle","height","linksStyle","className","style","vertical","Navbar","Body","Header","padding","Button","appearance","Icon","icon","size","React","Component","ImgIcon","src","img","alt","width","title","Tags","onSelect","newValue","tags","selected","tagIndex","indexOf","splice","onChange","Function","defaultSelected","list","blocks","key","isActive","active","visionList","VisionTags","weaponList","WeaponTags","characterRarityList","CharacterRarityTags","Utils","val","round","FormatNumber","type","a","b","sortorder","string","replaceAll","history","loc","toTop","fromDashboard","scrollTo","getPrototypeOf","proto","prototype","toString","call","CharactersList","onSearch","search","setVisions","newTags","setWeapons","setRarity","charaRender","weapontype","talentName","costs","allCosts","genshindb","lvlMats","cKey","item","name","mType","materialtype","trim","prev","lvlMatsSorted","sort","current","SimilarMaterial","mats","href","fandom","maxWidth","stars","FlexboxGrid","colspan","visions","charactersDB","charaName","InputGroup","Input","value","Addon","PureComponent","CharacterInfoHeader","displayData","gender","body","birthday","region","affiliation","cv","rows","isOdd","isPlainObject","tempValue","key2","Col","mdHidden","lgHidden","cover1","md","sm","xs","xsHidden","smHidden","entries","CharacterInfoStats","ascRows","asc","inner","j","stat","rowName","align","Column","Table","HeaderCell","Cell","CharacterInfoTalent","talentData","image","tableData","labels","rgx","match","param","attrData","Format","param2","cols","dataKey","Markdown","info","autoHeight","wordWrap","minWidth","fixed","flexGrow","CharacterInfoPassive","passiveData","CharacterInfoConstellations","constellationData","con","consData","ItemIcon","itemData","maxHeight","CharacterInfoAscCost","console","log","ascI","render","entry","boxes","k","justify","CharacterInfoTalentCost","CharacterInfo","passives","combat2","combat3","allCharas","imageCount","card","cover2","portrait","iKey","Characters","params","characterID","Content","Updates","show","onHide","changeLog","Modal","Title","About","memo","onShowUpdate","weaponRarityList","WeaponRarityTags","WeaponsList","wepRender","effectname","baseatk","r1","lvl90","baseAtk90","isPercent","sub90","subSuffix","slice","mat","StringFormat","weaponsDB","wepName","Weapons","allWeapons","sortedDB","flatDB","wepKey","weaponID","hash","path","exec","newPath","replaceState","App","showUpdates","onHideUpdate","ForceSave","outDated","isReady","basename","process","Container","routeProps","spin","lastVisitVersion","ready","needsSave","makeAutoObservable","autoBind","Load","setInterval","Save","Update","innerWidth","localStorage","setItem","toOBJ","storedLocal","getItem","FromOBJ","currentVersion","changes","Defaults","ReactDOM","Store","document","getElementById"],"mappings":"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","file":"static/js/main.e8871d1e.chunk.js","sourcesContent":["const fuzzysort = require('fuzzysort');\r\n//const design = require('./design.json');\r\nconst language = require('./language.js');\r\nconst Folder = require('./folder.js');\r\nconst altnames = require('./altnames.js');\r\nconst { getData, getIndex } = require('./getdata.js');\r\n\r\n// object that will be exported\r\nconst genshin = {};\r\n\r\n// Options that we'll start off with.\r\nlet baseoptions = {\r\n    matchAltNames: true, // Allows the matching of alternate or custom names.\r\n    matchAliases: false, // Allows the matching of aliases. These are searchable fields that returns the data object the query matched in.\r\n    matchCategories: false, // Allows the matching of categories. If true, then returns an array if it matches.\r\n    verboseCategories: false, // Used if a category is matched. If true, then replaces each string name in the array with the data object instead.\r\n    queryLanguages: [\"English\"], // Array of languages that your query will be searched in.\r\n    resultLanguage: \"English\" // Output language that you want your results to be in.\r\n}\r\n\r\ngenshin.setOptions = function(options) {\r\n    Object.assign(baseoptions, sanitizeOptions(options));\r\n}\r\n\r\ngenshin.getOptions = function() {\r\n    return JSON.parse(JSON.stringify(baseoptions));\r\n}\r\n\r\n/**\r\n * get rid of unnecessary properties\r\n */\r\nfunction sanitizeOptions(opts) {\r\n    if(typeof opts !== 'object' || opts === null) return undefined;\r\n\r\n    let sanOpts = {};\r\n    ['matchAltNames', 'matchAliases', 'matchCategories', 'verboseCategories'].forEach(prop => {\r\n        if(typeof opts[prop] === 'boolean') sanOpts[prop] = opts[prop];\r\n    });\r\n    opts.resultLanguage = language.format(opts.resultLanguage);\r\n    if(opts.resultLanguage !== undefined)\r\n        sanOpts.resultLanguage = opts.resultLanguage;\r\n    opts.queryLanguages = language.format(opts.queryLanguages);\r\n    if(opts.queryLanguages !== undefined)\r\n        sanOpts.queryLanguages = Array.isArray(opts.queryLanguages) ? opts.queryLanguages : [opts.queryLanguages];\r\n    return sanOpts;\r\n}\r\n\r\n// returns an array of strings used for autocomplete aka fuzzy searching\r\nfunction buildQueryDict(querylangs, folder, opts) {\r\n    let dict = opts.matchCategories ? ['names'] : [];\r\n    for(const lang of querylangs) {\r\n        const index = getIndex(lang, folder);\r\n        if(index === undefined) continue;\r\n        if(index.names)\r\n            dict = dict.concat(Object.keys(index.names));\r\n        if(opts.matchAltNames)\r\n            dict = dict.concat(altnames.getAltNamesList(lang, folder));\r\n        if(opts.matchAliases && index.aliases)\r\n            dict = dict.concat(Object.keys(index.aliases));\r\n        if(opts.matchCategories && index.categories)\r\n            dict = dict.concat(Object.keys(index.categories));\r\n    }\r\n    return dict;\r\n}\r\n\r\nfunction autocomplete(input, dict) {\r\n    let result = fuzzysort.go(input, dict, { limit: 1 })[0];\r\n    return result === undefined ? undefined : result.target;\r\n}\r\n\r\n// genshin.categories = function(query, opts={}) {\r\n//     opts = Object.assign({}, baseoptions, sanitizeOptions(opts));\r\n\r\n//     const file = getCategory(opts.resultLanguage);\r\n//     return file[query] ? file[query] : [];\r\n// }\r\n\r\n// TODO: use a better name lol\r\n// TODO: if folder is undefined, search through every folder\r\nfunction searchFolder(query, folder, opts, getfilename) {\r\n    opts = Object.assign({}, baseoptions, sanitizeOptions(opts));\r\n    query = autocomplete(\"\"+query, buildQueryDict(opts.queryLanguages, folder, opts));\r\n    if(query === undefined) return undefined; // no result\r\n\r\n    for(let lang of opts.queryLanguages) {\r\n        let langindex = getIndex(lang, folder);\r\n        if(langindex === undefined) continue;\r\n\r\n        // check if query is in .names\r\n        if(langindex.names[query] !== undefined) {\r\n            const filename = langindex.names[query];\r\n            if(getfilename) return filename;\r\n            return getData(opts.resultLanguage, folder, filename);\r\n        }\r\n\r\n        // check if query is in .altnames\r\n        if(opts.matchAltNames && altnames.getFilename(lang, folder, query)) {\r\n            const filename = altnames.getFilename(lang, folder, query);\r\n            if(getfilename) return filename;\r\n            return getData(opts.resultLanguage, folder, filename);\r\n        }\r\n\r\n        // check if query is in .aliases\r\n        if(opts.matchAliases && langindex.aliases[query] !== undefined) {\r\n            const filename = langindex.aliases[query];\r\n            if(getfilename) return filename;\r\n            return getData(opts.resultLanguage, folder, filename);\r\n        }\r\n\r\n        // check if query is in .categories or is 'names'\r\n        if(opts.matchCategories && (langindex.categories[query] !== undefined || query === 'names')) {\r\n            let reslangindex = getIndex(opts.resultLanguage, folder);\r\n            if(reslangindex === undefined) return undefined;\r\n\r\n            let tmparr = (query === 'names') ? Object.values(reslangindex.names) : langindex.categories[query];\r\n            // change the array of filenames into an array of data objects or data names. ignores undefined results if any\r\n            return tmparr.reduce((accum, filename) => {\r\n                let res = opts.verboseCategories ? getData(opts.resultLanguage, folder, filename) : reslangindex.namemap[filename];\r\n                if(res !== undefined) accum.push(res);\r\n                return accum;\r\n            }, []);\r\n        }\r\n    }\r\n    return undefined;\r\n}\r\n\r\ngenshin.characters = function(query, opts) {\r\n    return searchFolder(query, Folder.characters, opts);\r\n}\r\ngenshin.character = genshin.characters;\r\n\r\ngenshin.talents = function(query, opts) {\r\n    return searchFolder(query, Folder.talents, opts);\r\n}\r\ngenshin.talent = genshin.talents;\r\n\r\ngenshin.weapons = function(query, opts) {\r\n    return searchFolder(query, Folder.weapons, opts);\r\n}\r\ngenshin.weapon = genshin.weapons;\r\n\r\ngenshin.weaponmaterialtypes = function(query, opts) {\r\n    return searchFolder(query, Folder.weaponmaterialtypes, opts);\r\n}\r\ngenshin.weaponmaterialtype = genshin.weaponmaterialtypes;\r\n\r\ngenshin.talentmaterialtypes = function(query, opts) {\r\n    return searchFolder(query, Folder.talentmaterialtypes, opts);\r\n}\r\ngenshin.talentmaterialtype = genshin.talentmaterialtypes;\r\n\r\ngenshin.materials = function(query, opts) {\r\n    return searchFolder(query, Folder.materials, opts);\r\n}\r\ngenshin.material = genshin.materials;\r\n\r\ngenshin.elements = function(query, opts) {\r\n    return searchFolder(query, Folder.elements, opts);\r\n}\r\ngenshin.element = genshin.elements;\r\n\r\ngenshin.constellations = function(query, opts) {\r\n    return searchFolder(query, Folder.constellations, opts);\r\n}\r\ngenshin.constellation = genshin.constellations;\r\n\r\ngenshin.artifacts = function(query, opts) {\r\n    return searchFolder(query, Folder.artifacts, opts);\r\n}\r\ngenshin.artifact = genshin.artifacts;\r\n\r\ngenshin.rarity = function(query, opts) {\r\n    return searchFolder(query, Folder.rarity, opts);\r\n}\r\n\r\ngenshin.foods = function(query, opts) {\r\n    return searchFolder(query, Folder.foods, opts);\r\n}\r\ngenshin.food = genshin.foods;\r\n\r\ngenshin.domains = function(query, opts) {\r\n    return searchFolder(query, Folder.domains, opts);\r\n}\r\ngenshin.domain = genshin.domains;\r\n\r\ngenshin.enemies = function(query, opts) {\r\n    return searchFolder(query, Folder.enemies, opts);\r\n}\r\ngenshin.enemy = genshin.enemies;\r\n\r\n// genshin.reactions = function(query, opts={}) {\r\n//     opts = Object.assign({}, baseoptions, sanitizeOptions(opts));\r\n\r\n//     const data = getJSON(`./${baselang}/reactions/${query}`);\r\n\r\n//     return data;\r\n// }\r\n\r\ngenshin.helper = require('./helper.js');\r\n\r\n// export enums\r\ngenshin.Language = language.LanguagesEnum;\r\ngenshin.Languages = language.LanguagesEnum;\r\ngenshin.Folder = Folder;\r\ngenshin.Folders = Folder;\r\n\r\n// export custom alternate names api\r\ngenshin.addAltName = function(language, folder, altname, query) {\r\n    const myOptions = {\r\n        matchAltNames: false,\r\n        matchAliases: false,\r\n        matchCategories: false,\r\n        verboseCategories: false,\r\n        queryLanguages: [language],\r\n    }\r\n    const filename = searchFolder(query, folder, myOptions, true)\r\n    if(filename)\r\n        return altnames.addAltName(language, folder, altname, filename);\r\n    else\r\n        return false;\r\n}\r\ngenshin.removeAltNames = altnames.removeAltNames;\r\ngenshin.setAltNameLimits = altnames.setLimit;\r\n\r\n\r\nmodule.exports = genshin;","const fuzzysort = require('fuzzysort');\r\n\r\nconst LanguagesEnum = {\r\n\t'ChineseSimplified'  : 'ChineseSimplified',\r\n\t'ChineseTraditional' : 'ChineseTraditional',\r\n\t'English'            : 'English',\r\n\t'French'             : 'French',\r\n\t'German'             : 'German',\r\n\t'Indonesian'         : 'Indonesian',\r\n\t'Japanese'           : 'Japanese',\r\n\t'Korean'             : 'Korean',\r\n\t'Portuguese'         : 'Portuguese',\r\n\t'Russian'            : 'Russian',\r\n\t'Spanish'            : 'Spanish',\r\n\t'Thai'               : 'Thai',\r\n\t'Vietnamese'         : 'Vietnamese'\r\n};\r\n\r\n// converts Genshin's language codes into expanded strings\r\nconst languageMap = {\r\n\t'CHS': 'ChineseSimplified',\r\n\t'CHT': 'ChineseTraditional',\r\n\t'DE':  'German',\r\n\t'EN':  'English',\r\n\t'ES':  'Spanish',\r\n\t'FR':  'French',\r\n\t'ID':  'Indonesian',\r\n\t'JP':  'Japanese',\r\n\t'KR':  'Korean',\r\n\t'PT':  'Portuguese',\r\n\t'RU':  'Russian',\r\n\t'TH':  'Thai',\r\n\t'VI':  'Vietnamese'\r\n};\r\n// array of language strings\r\nconst languages = Object.values(languageMap);\r\n// array of language codes\r\nconst languageCodes = Object.keys(languageMap);\r\n\r\n// // converts expanded strings into javascript locale codes\r\nconst localeMap = {\r\n\t'ChineseSimplified':  'zh-cn',\r\n\t'ChineseTraditional': 'zh-tw',\r\n\t'German':             'de',\r\n\t'English':            'en',\r\n\t'Spanish':            'es',\r\n\t'French':             'fr',\r\n\t'Indonesian':         'id',\r\n\t'Japanese':           'ja',\r\n\t'Korean':             'ko',\r\n\t'Portuguese':         'pt',\r\n\t'Russian':            'ru',\r\n\t'Thai':               'th',\r\n\t'Vietnamese':         'vi'\r\n};\r\n\r\nconst languageDict = Object.keys(languageMap).concat(Object.values(languageMap));\r\n\r\nfunction autocompleteLanguage(input, dict) {\r\n    let result = fuzzysort.go(input, dict, { limit: 1 })[0];\r\n    if(result !== undefined)\r\n    \tresult = result.target.length < 4 ? languageMap[result.target] : result.target;\r\n    return result;\r\n}\r\n\r\n/**\r\n * @param langs - a string or array of strings\r\n * @returns - autocompleted full name of the language. see languageMap.\r\n *            undefined if none of the strings are valid languages.\r\n */\r\nfunction format(langs) {\r\n    if(typeof langs === 'string') {\r\n        return autocompleteLanguage(langs, languageDict);\r\n    } else if(Array.isArray(langs)) {\r\n        let tmp = [];\r\n        for(let l of langs) {\r\n            l = format(l);\r\n            if(l && !tmp.includes(l)) tmp.push(l);\r\n        }\r\n        if(tmp.length) return tmp;\r\n    }\r\n    return undefined;\r\n}\r\n\r\nmodule.exports = {\r\n\tLanguagesEnum: LanguagesEnum,\r\n\tlanguages: languages,\r\n\tlanguageCodes: languageCodes,\r\n\tlanguageMap: languageMap,\r\n\tlocaleMap: localeMap,\r\n\tformat: format\r\n};","// enum for folders. // make sure update index.d.ts too\r\n// not really used internally. mainly for altnames api\r\nmodule.exports = {\r\n\tcharacters     : 'characters',\r\n\ttalents        : 'talents',\r\n\tconstellations : 'constellations',\r\n\t\r\n\tweapons        : 'weapons',\r\n\r\n\tfoods          : 'foods',\r\n\tmaterials      : 'materials',\r\n\tweaponmaterialtypes: 'weaponmaterialtypes',\r\n\ttalentmaterialtypes: 'talentmaterialtypes',\r\n\r\n\tartifacts      : 'artifacts',\r\n\tdomains        : 'domains',\r\n\tenemies        : 'enemies',\r\n\r\n\trarity         : 'rarity',\r\n\telements       : 'elements'\r\n};","const alldata  = require('./min/data.min.json');\r\nconst allindex = require('./min/index.min.json');\r\nconst allimage = require('./min/image.min.json');\r\nconst allurl   = require('./min/url.min.json');\r\nconst allstats = require('./min/stats.min.json');\r\nconst allcurve = require('./min/curve.min.json');\r\n\r\nconst availableimage = ['characters', 'artifacts', 'weapons', 'constellations', 'talents', 'materials', 'foods', 'elements', 'domains', 'enemies'];\r\nconst availableurl   = ['characters', 'artifacts', 'weapons', 'foods', 'materials'];\r\nconst availablestats = ['characters', 'weapons'];\r\nconst availablecurve = ['characters', 'weapons'];\r\n\r\nconst calcStatsMap = {\r\n    'characters': calcStatsCharacter,\r\n    'weapons': calcStatsWeapon\r\n};\r\n\r\nfunction getData(lang, folder, filename) {\r\n    try {\r\n        let tmp = alldata[lang][folder][filename];\r\n        if(tmp.images === undefined && availableimage.includes(folder)) {\r\n            tmp.images = getImage(folder, filename);\r\n        }\r\n        if(tmp.url === undefined && availableurl.includes(folder)) {\r\n            tmp.url = getURL(folder, filename);\r\n        }\r\n        if(tmp.stats === undefined && availablestats.includes(folder) && calcStatsMap[folder]) {\r\n            tmp.stats = calcStatsMap[folder](filename);\r\n        }\r\n        if(folder === 'talents' && tmp.combat1.parameters === undefined) {\r\n            setAttributesTalent(tmp, filename);\r\n        }\r\n        return tmp;\r\n    } catch(e) { return undefined; }\r\n}\r\n\r\nfunction getIndex(lang, folder) {\r\n    try {\r\n        return allindex[lang][folder];\r\n    } catch(e) { return undefined; }\r\n}\r\n\r\nfunction getImage(folder, filename) {\r\n    try {\r\n        return allimage[folder][filename];\r\n    } catch(e) { return undefined; }\r\n}\r\n\r\nfunction getURL(folder, filename) {\r\n    try {\r\n        return allurl[folder][filename];\r\n    } catch(e) { return undefined; }\r\n}\r\n\r\nfunction getStats(folder, filename) {\r\n    try {\r\n        return allstats[folder][filename];\r\n    } catch(e) { return undefined; }\r\n}\r\n\r\nfunction getCurve(folder) {\r\n    try {\r\n        return allcurve[folder];\r\n    } catch(e) { return undefined; }\r\n}\r\n\r\nfunction calcStatsCharacter(filename) {\r\n    const mystats = getStats('characters', filename);\r\n    const mycurve = getCurve('characters');\r\n    if(mystats === undefined || mycurve === undefined) return undefined;\r\n    /** \r\n     * Calculates the stats of a character at a specific level and ascension phase.\r\n     * @param level: number - level. number between 1-90. returns undefined if not within range.\r\n     * @param ascension: undefined | number | string - the ascension number, or '-'/'+'. defaults to '-'.\r\n     *                   only decides which stats to return at level boundaries (20, 40, 50, 60, 70, 80).\r\n     */\r\n    return function(level, ascension) {\r\n        level = parseInt(level, 10);\r\n        if(isNaN(level)) return undefined;\r\n        if(level > 90 || level < 1) return undefined;\r\n\r\n        const [phase, promotion] = getPromotionBonus(mystats.promotion, level, ascension);\r\n        let output = {\r\n            level: level,\r\n            ascension: phase,\r\n            hp: mystats.base.hp * mycurve[level][mystats.curve.hp] + promotion.hp,\r\n            attack: mystats.base.attack * mycurve[level][mystats.curve.attack] + promotion.attack,\r\n            defense: mystats.base.defense * mycurve[level][mystats.curve.defense] + promotion.defense,\r\n            specialized: promotion.specialized\r\n        };\r\n        if(mystats.specialized === 'FIGHT_PROP_CRITICAL')\r\n            output.specialized += mystats.base.critrate;\r\n        else if(mystats.specialized === 'FIGHT_PROP_CRITICAL_HURT')\r\n            output.specialized += mystats.base.critdmg;\r\n\r\n        return output;\r\n    }\r\n}\r\n\r\nfunction calcStatsWeapon(filename) {\r\n    const mystats = getStats('weapons', filename);\r\n    const mycurve = getCurve('weapons');\r\n    if(mystats === undefined || mycurve === undefined) return undefined;\r\n    const maxlevel = mystats.promotion[mystats.promotion.length-1].maxlevel;\r\n    /**\r\n     * Calculates the stats of a weapon at a specific level and ascension phase.\r\n     */\r\n    return function(level, ascension) {\r\n        level = parseInt(level, 10);\r\n        if(isNaN(level)) return undefined;\r\n        if(level > maxlevel || level < 1) return undefined;\r\n\r\n       const [phase, promotion] = getPromotionBonus(mystats.promotion, level, ascension);\r\n        let output = {\r\n            level: level,\r\n            ascension: phase,\r\n            attack: mystats.base.attack * mycurve[level][mystats.curve.attack] + promotion.attack,\r\n            specialized: mystats.base.specialized * mycurve[level][mystats.curve.specialized]\r\n        };\r\n\r\n        return output; \r\n    }\r\n}\r\n\r\n/**\r\n * @param level: integer\r\n * @param ascension: undefined | number | string - the ascension number, or '-'/'+'. defaults to '-'.\r\n *                   only decides which stats to return at level boundaries.\r\n */\r\nfunction getPromotionBonus(promotions, level, ascension) {\r\n    for(let index = promotions.length - 2; index >= 0; index--) {\r\n        if(level > promotions[index].maxlevel) {\r\n            return [index+1, promotions[index+1]];\r\n        } else if(level === promotions[index].maxlevel) {\r\n            if(Number.isFinite(ascension) && ascension > index || ascension === '+')\r\n                return [index+1, promotions[index+1]];\r\n            else\r\n                return [index, promotions[index]];\r\n        }\r\n    }\r\n    return [0, promotions[0]];\r\n}\r\n\r\nfunction setAttributesTalent(data, filename) {\r\n    const myparams = getStats('talents', filename);\r\n    for(const prop of ['combat1', 'combat2', 'combatsp', 'combat3']) {\r\n        if(myparams[prop] === undefined) continue;\r\n        data[prop].attributes.parameters = myparams[prop];\r\n    }\r\n}\r\n\r\n\r\n\r\nmodule.exports = {\r\n    getData: getData,\r\n    getIndex: getIndex,\r\n    getImage: getImage,\r\n    getStats: getStats\r\n}","const Folder = require('./folder.js');\r\nconst { LanguagesEnum } = require('./language.js');\r\nconst { getIndex } = require('./getdata.js');\r\n\r\n// object to export\r\nlet altnames = {}\r\n\r\n\r\nlet altnameindex = { count: 0 };\r\n\r\n/* type checking of altnameindex\r\n{\r\n\tcount: number;\r\n\t[folder: Folder]?: {\r\n\t\t[language: LanguagesEnum]?: {\r\n\t\t\t[altname: string]: filename; // filename is a string\r\n\t\t}\r\n\t}\t\r\n}\r\n*/\r\n\r\nlet baselimits = {\r\n\tmaxLength: 100,\r\n\tmaxCount: 1000\r\n};\r\n\r\n\r\nfunction isValidFolder(folder) {\r\n\treturn typeof folder === 'string' && Folder[folder];\r\n}\r\nfunction isValidLanguage(language) {\r\n\treturn typeof language === 'string' && LanguagesEnum[language];\r\n}\r\nfunction isValidAltName(altname) {\r\n\treturn typeof altname === 'string' && altname.length > 0 && altname.length <= baselimits.maxLength;\r\n}\r\nfunction isValidFilename(filename, language, folder) {\r\n\tif(typeof filename !== 'string') return false;\r\n\tconst index = getIndex(language, folder);\r\n\treturn index !== undefined && index.namemap[filename] !== undefined;\r\n}\r\n\r\nfunction isEmpty(obj) {\r\n\tfor(let x in obj) { if(obj.hasOwnProperty(x)) return false; }\r\n\treturn true;\r\n}\r\n\r\naltnames.setLimit = function(limits) {\r\n\tif(typeof limits.maxLength  === 'number')\r\n\t\tbaselimits.maxLength = limits.maxLength;\r\n\tif(typeof limits.maxCount === 'number')\r\n\t\tbaselimits.maxCount = limits.maxCount;\r\n}\r\n\r\n// see examples at the bottom of this script\r\naltnames.addAltName = function(language, folder, altname, filename) {\r\n\tif(!isValidLanguage(language) || !isValidFolder(folder)) return false;\r\n\tif(!isValidAltName(altname) || !isValidFilename(filename, language, folder)) return false;\r\n\tif(altnameindex.count >= baselimits.maxCount) return false;\r\n\r\n\tif(!altnameindex[language])\r\n\t\taltnameindex[language] = {};\r\n\tif(!altnameindex[language][folder])\r\n\t\taltnameindex[language][folder] = {};\r\n\taltnameindex[language][folder][altname]\t= filename;\r\n\taltnameindex.count++;\r\n\treturn true;\r\n}\r\n\r\naltnames.removeAltNames = function(language, folder, altname) {\r\n\tif(!isValidLanguage(language) || !isValidFolder(folder)) return false;\r\n\tif(typeof altname !== 'undefined' && typeof altname !== 'string') return false;\r\n\r\n\ttry {\r\n\t\tif(altname !== undefined) {\r\n\t\t\taltnameindex.count--;\r\n\t\t\tdelete altnameindex[language][folder][altname];\r\n\t\t} else {\r\n\t\t\taltnameindex.count -= Object.keys(altnameindex[language][folder]).length;\r\n\t\t\tdelete altnameindex[language][folder];\r\n\t\t}\r\n\r\n\t\tif(isEmpty(altnameindex[language][folder])) delete altnameindex[language][folder];\r\n\t\tif(isEmpty(altnameindex[language])) delete altnameindex[language];\r\n\t} catch(e) {}\r\n\treturn true;\r\n}\r\n\r\n// get string[] of all altnames for a language/folder. empty array if doesn't exist.\r\naltnames.getAltNamesList = function(language, folder) {\r\n\tif(altnameindex[language] && altnameindex[language][folder])\r\n\t\treturn Object.keys(altnameindex[language][folder]);\r\n\telse\r\n\t\treturn [];\r\n}\r\n\r\naltnames.getFilename = function(language, folder, altname) {\r\n\tif(altnameindex[language] && altnameindex[language][folder] && altnameindex[language][folder][altname])\r\n\t\treturn altnameindex[language][folder][altname];\r\n\telse\r\n\t\treturn undefined;\r\n}\r\n\r\n// add default altnames\r\naltnames.addAltName('English', 'characters', 'Childe', 'tartaglia');\r\naltnames.addAltName('English', 'talents', 'Childe', 'tartaglia');\r\naltnames.addAltName('English', 'constellations', 'Childe', 'tartaglia');\r\n\r\naltnames.addAltName('English', 'characters', 'Baal', 'raidenshogun');\r\naltnames.addAltName('English', 'talents', 'Baal', 'raidenshogun');\r\naltnames.addAltName('English', 'constellations', 'Baal', 'raidenshogun');\r\n\r\naltnames.addAltName('English', 'talents', 'Anemo Traveler', 'traveleranemo');\r\naltnames.addAltName('English', 'talents', 'Electro Traveler', 'travelerelectro');\r\naltnames.addAltName('English', 'talents', 'Geo Traveler', 'travelergeo');\r\naltnames.addAltName('English', 'constellations', 'Anemo Traveler', 'traveleranemo');\r\naltnames.addAltName('English', 'constellations', 'Electro Traveler', 'travelerelectro');\r\naltnames.addAltName('English', 'constellations', 'Geo Traveler', 'travelergeo');\r\n\r\nmodule.exports = altnames;","const helper = {};\r\n\r\n\r\nhelper.makeFilename = function(str) {\r\n\tstr = str.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\r\n\treturn str.toLowerCase().replace(/[^a-z]/g,'');\r\n}\r\n\r\n\r\n/**\r\n * english only :(\r\n */\r\nhelper.substat = function(substat, subvalue) {\r\n\tif(subvalue === undefined) return;\r\n\treturn substat.replace(/([^%]*)(%?)/, `$1 ${subvalue}$2`)\r\n}\r\n\r\n/**\r\n * If you're too lazy to make your own String.format function, then use this one.\r\n * replaces {0} etc with values. can separate with slashes\r\n */\r\nhelper.effect = function(effect, ...numbers) {\r\n\tif(effect === undefined || numbers.length === 0) return;\r\n\r\n\tfor(let i = 0; i < numbers[0].length; i++) {\r\n\t\tlet values = numbers.reduce((acc, curr) => {\r\n\t\t\tif(acc !== \"\") acc += '/';\r\n\t\t\treturn acc + curr[i];\r\n\t\t}, \"\");\r\n\t\teffect = effect.replace(new RegExp(`\\\\{${i}\\\\}`, 'g'), values);\r\n\t}\r\n\treturn effect;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nmodule.exports = helper;","import React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { Content, FlexboxGrid } from 'rsuite';\r\n\r\nimport CharactersList from './CharactersList';\r\nimport CharacterInfo from './CharacterInfo';\r\n\r\nimport genshindb from 'genshin-db';\r\n\r\nlet charactersDB = {};\r\nconst allCharas = genshindb.talents('names', { matchCategories: true });\r\nfor (let i = 0; i < allCharas.length; i++) {\r\n  const name = allCharas[i];\r\n  const key = name.replace(/[\\s]+/g, \"_\").replace(/[\\(\\)]+/g, \"\");\r\n  if (name.includes(\"Traveler\")) {\r\n    charactersDB[key] = {\r\n      ...genshindb.characters(\"Aether\"),\r\n      element: name.match(/\\((.*)\\)/)[1]\r\n    };\r\n  } else {\r\n    charactersDB[key] = { ...genshindb.characters(name) };\r\n  }\r\n  charactersDB[key].talentName = name;\r\n}\r\n\r\nlet imageCount = {\r\n  card: [],\r\n  cover1: [],\r\n  cover2: [],\r\n  \"hoyolab-avatar\": [],\r\n  image: [],\r\n  portrait: []\r\n};\r\nfor (const key in charactersDB) {\r\n  const element = charactersDB[key];\r\n  for (const iKey in imageCount) {\r\n    if (!element.images.hasOwnProperty(iKey)) {\r\n      imageCount[iKey].push(key);\r\n    }\r\n  }\r\n}\r\n\r\nconst Characters = observer(class extends React.PureComponent {\r\n  render() {\r\n    const {\r\n      match, history\r\n    } = this.props;\r\n    const data = charactersDB[match.params.characterID];\r\n    return <Content className=\"content\">\r\n      <FlexboxGrid justify=\"center\">\r\n        {\r\n          data ? <CharacterInfo data={data} />\r\n            : <CharactersList charactersDB={charactersDB} history={history} />\r\n        }\r\n\r\n      </FlexboxGrid>\r\n    </Content>\r\n\r\n  }\r\n})\r\n\r\nexport default Characters;","import React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { Navbar, Nav, Button, Icon } from 'rsuite';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nconst barHeight = 56;\r\n\r\nconst NavLinks = ({ onClick }) => {\r\n  return (\r\n    <React.Fragment>\r\n      <Nav.Item eventKey=\"/characters\" componentClass={Link} to=\"/characters\" onClick={onClick}>\r\n        Characters\r\n      </Nav.Item>\r\n      <Nav.Item eventKey=\"/weapons\" componentClass={Link} to=\"/weapons\" onClick={onClick}>\r\n        Weapons\r\n      </Nav.Item>\r\n      <Nav.Item eventKey=\"/useful-info\" componentClass={Link} to=\"/useful-info\" onClick={onClick}>\r\n        Useful Info\r\n      </Nav.Item>\r\n      <Nav.Item eventKey=\"/about\" componentClass={Link} to=\"/about\" onClick={onClick}>\r\n        About\r\n      </Nav.Item>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nconst NavBar = observer(class NavBar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showMenu: false,\r\n      top: 0\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    window.addEventListener(\"scroll\", this.onWindowScroll);\r\n    this.prevScroll = window.pageYOffset;\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"scroll\", this.onWindowScroll);\r\n  }\r\n  toggleMenu = () => {\r\n    this.setState({ showMenu: !this.state.showMenu });\r\n  }\r\n  onWindowScroll = () => {\r\n    const currentScroll = window.pageYOffset;\r\n    const delta = currentScroll - this.prevScroll;\r\n    if (Math.abs(delta) < 5) return;\r\n    const hide = delta < 0;\r\n    this.setState({ top: hide ? 0 : -barHeight });\r\n    this.prevScroll = currentScroll;\r\n  }\r\n  render() {\r\n    const {\r\n      showMenu, top\r\n    } = this.state;\r\n    const {\r\n      isXS, windowWidth\r\n    } = this.props.store;\r\n    const activeKey = this.props.location.pathname;\r\n    const barStyle = {\r\n      height: barHeight,\r\n      top\r\n    }\r\n    const linksStyle = {\r\n      top: barHeight + top\r\n    }\r\n    return (\r\n      <React.Fragment>\r\n        {\r\n          isXS &&\r\n          <Nav className={\"navToggle \" + (showMenu ? \"visible\" : \"\")} style={linksStyle} vertical>\r\n            <NavLinks onClick={this.toggleMenu} {...{ activeKey }} />\r\n          </Nav>\r\n        }\r\n        <Navbar className=\"navbar\" style={barStyle}>\r\n          <Navbar.Body>\r\n            {\r\n              !isXS ?\r\n                <Nav >\r\n                  <NavLinks {...{ activeKey }} />\r\n                </Nav> :\r\n                <Navbar.Header style={{ padding: \"8px 10px\" }}>\r\n                  <Button appearance=\"subtle\" onClick={this.toggleMenu}>\r\n                    <Icon icon=\"bars\" size=\"2x\" />\r\n                  </Button>\r\n                </Navbar.Header>\r\n            }\r\n          </Navbar.Body>\r\n        </Navbar>\r\n        <div style={{ height: barHeight }} />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n});\r\n\r\nexport default NavBar;","import React from 'react';\r\n\r\nimport '../css/icons.css';\r\n\r\nconst ImgIcon = ({ src, size, height, className, onClick, img, alt }) => {\r\n  size = Number(size) || 24;\r\n  let style = {\r\n    width: size + \"px\",\r\n    height: size + \"px\"\r\n  }\r\n  // if (img) {\r\n  //   style.backgroundImage = \"url(\" + src + \")\";\r\n  // }\r\n  className = (className || \"\") + \" icon \";\r\n  if (onClick) className += \" button\";\r\n  if (img) {\r\n    style.height = height || \"auto\";\r\n    return <img\r\n      src={src}\r\n      className={className}\r\n      style={style}\r\n      title={alt}\r\n      alt={alt}\r\n      onClick={onClick}\r\n    />\r\n  }\r\n  return <i\r\n    className={className + src}\r\n    style={style}\r\n    title={alt}\r\n    onClick={onClick}\r\n  />\r\n}\r\n\r\nexport default ImgIcon;","import React from 'react';\r\nimport { Nav } from 'rsuite';\r\n\r\n\r\nclass Tags extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selected: props.defaultSelected\r\n    }\r\n  }\r\n\r\n  onSelect = (newValue) => {\r\n    let tags = [...this.state.selected];\r\n    let tagIndex = tags.indexOf(newValue);\r\n    if (tagIndex >= 0 && tags.length === 1) {\r\n      tags.splice(tagIndex, 1);\r\n    } else if (tagIndex >= 0) {\r\n      tags = [newValue];\r\n    } else {\r\n      tags.push(newValue);\r\n    }\r\n    this.setState({ selected: tags });\r\n    if (this.props.onChange instanceof Function) this.props.onChange(tags)\r\n  }\r\n\r\n  render() {\r\n    const { list } = this.props;\r\n    const { selected } = this.state;\r\n    let blocks = [];\r\n    for (const key in list) {\r\n      let isActive = true;\r\n      if (Array.isArray(selected)) {\r\n        isActive = selected.length === 0 || selected.indexOf(key) >= 0;\r\n      } else {\r\n        isActive = key === selected;\r\n      }\r\n      blocks.push(\r\n        <Nav.Item eventKey={key} key={\"TAGS.\" + key} className=\"tags\" active={isActive}>\r\n          {list[key] instanceof Function ? list[key](isActive) : list[key]}\r\n        </Nav.Item>\r\n      )\r\n    }\r\n\r\n    return <Nav className=\"tags\" appearance=\"subtle\" onSelect={this.onSelect}>\r\n      {blocks}\r\n    </Nav>\r\n  }\r\n}\r\nexport default Tags;","import Tags from \"./Tags\";\r\nimport ImgIcon from \"../Icon\";\r\n\r\nconst visionList = {\r\n  \"Anemo\": (active) => <ImgIcon src=\"element anemo\" size=\"48\" className={active ? \"enabled\" : \"disabled\"} />,\r\n  \"Cryo\": (active) => <ImgIcon src=\"element cryo\" size=\"48\" className={active ? \"enabled\" : \"disabled\"} />,\r\n  // \"dendro\": <ImgIcon src=\"element dendro\" size=\"48\" />,\r\n  \"Electro\": (active) => <ImgIcon src=\"element electro\" size=\"48\" className={active ? \"enabled\" : \"disabled\"} />,\r\n  \"Geo\": (active) => <ImgIcon src=\"element geo\" size=\"48\" className={active ? \"enabled\" : \"disabled\"} />,\r\n  \"Hydro\": (active) => <ImgIcon src=\"element hydro\" size=\"48\" className={active ? \"enabled\" : \"disabled\"} />,\r\n  \"Pyro\": (active) => <ImgIcon src=\"element pyro\" size=\"48\" className={active ? \"enabled\" : \"disabled\"} />\r\n}\r\n\r\nconst VisionTags = ({ defaultSelected, onChange }) => {\r\n  return <Tags\r\n    list={visionList}\r\n    defaultSelected={defaultSelected}\r\n    onChange={onChange}\r\n  />\r\n}\r\n\r\nexport default VisionTags;","import Tags from \"./Tags\";\r\nimport ImgIcon from \"../Icon\";\r\n\r\nconst weaponList = {\r\n  \"Sword\": (active) => <ImgIcon src=\"wtype sword\" size=\"48\" className={active ? \"enabled\" : \"disabled\"} />,\r\n  \"Claymore\": (active) => <ImgIcon src=\"wtype claymore\" size=\"48\" className={active ? \"enabled\" : \"disabled\"} />,\r\n  \"Polearm\": (active) => <ImgIcon src=\"wtype polearm\" size=\"48\" className={active ? \"enabled\" : \"disabled\"} />,\r\n  \"Bow\": (active) => <ImgIcon src=\"wtype bow\" size=\"48\" className={active ? \"enabled\" : \"disabled\"} />,\r\n  \"Catalyst\": (active) => <ImgIcon src=\"wtype catalyst\" size=\"48\" className={active ? \"enabled\" : \"disabled\"} />,\r\n}\r\n\r\n\r\nconst WeaponTags = ({ defaultSelected, onChange }) => {\r\n  return <Tags\r\n    list={weaponList}\r\n    defaultSelected={defaultSelected}\r\n    onChange={onChange}\r\n  />\r\n}\r\n\r\nexport default WeaponTags;","import Tags from \"./Tags\";\r\nimport ImgIcon from \"../Icon\";\r\n\r\nconst characterRarityList = {\r\n  \"4\": \"4-Star\",\r\n  \"5\": \"5-Star\"\r\n}\r\n\r\nconst CharacterRarityTags = ({ defaultSelected, onChange }) => {\r\n  return <Tags\r\n    list={characterRarityList}\r\n    defaultSelected={defaultSelected}\r\n    onChange={onChange}\r\n  />\r\n}\r\n\r\nexport default CharacterRarityTags;","import ReactMarkdown from 'react-markdown'\r\n\r\nclass Utils {\r\n  FormatNumber(val) {\r\n    return Math.round(val);\r\n  }\r\n\r\n  FormatPercent(val) {\r\n    return this.FormatNumber(val * 100);\r\n  }\r\n\r\n  Format(val, type) {\r\n    if (type.includes(\"P\")) val *= 100;\r\n    if (type.includes(\"F1\")) {\r\n      val *= 10;\r\n      val = Math.round(val) / 10;\r\n    } else {\r\n      val = Math.round(val);\r\n    }\r\n    if (type.includes(\"P\")) val += \"%\";\r\n    return val;\r\n  }\r\n\r\n  StringFormat(effect, ...numbers) {\r\n    if (effect === undefined || numbers.length === 0) return;\r\n\r\n    for (let i = 0; i < numbers[0].length; i++) {\r\n      let values = numbers.reduce((acc, curr) => {\r\n        if (acc !== \"\") acc += '/';\r\n        return acc + curr[i];\r\n      }, \"\");\r\n      effect = effect.replace(new RegExp(`\\\\{${i}\\\\}`, 'g'), values);\r\n    }\r\n    return effect;\r\n  }\r\n\r\n  SimilarMaterial(a, b) {\r\n    // check if crown\r\n    if (a.sortorder === 1856 || b.sortorder === 1856) return false;\r\n    if (Math.abs(a.sortorder - b.sortorder) > 1) return false;\r\n    if (a.rarity === b.rarity) return false;\r\n    // check name?\r\n    return true;\r\n  }\r\n\r\n\r\n  Markdown(string) {\r\n    return <ReactMarkdown>\r\n      {string.replaceAll(\"\\n\", \"  \\n\")}\r\n    </ReactMarkdown>\r\n  }\r\n\r\n  Redirect(history, loc, toTop) {\r\n    const location = {\r\n      pathname: loc,\r\n      state: { fromDashboard: true }\r\n    }\r\n    history.push(location);\r\n    if (toTop) window.scrollTo(0, 0);\r\n  }\r\n\r\n  isPlainObject(obj) {\r\n\r\n    // Basic check for Type object that's not null\r\n    if (typeof obj == 'object' && obj !== null) {\r\n\r\n      // If Object.getPrototypeOf supported, use it\r\n      if (typeof Object.getPrototypeOf == 'function') {\r\n        var proto = Object.getPrototypeOf(obj);\r\n        return proto === Object.prototype || proto === null;\r\n      }\r\n\r\n      // Otherwise, use internal class\r\n      // This should be reliable as if getPrototypeOf not supported, is pre-ES5\r\n      return Object.prototype.toString.call(obj) == '[object Object]';\r\n    }\r\n\r\n    // Not an object\r\n    return false;\r\n  }\r\n\r\n}\r\n\r\nexport default new Utils();","import React from 'react';\r\nimport { InputGroup, Input, Icon, FlexboxGrid } from 'rsuite';\r\n\r\nimport genshindb from 'genshin-db'\r\n\r\nimport ImgIcon from '../Icon';\r\nimport VisionTags from '../Tags/VisionTags';\r\nimport WeaponTags from '../Tags/WeaponTags';\r\nimport CharacterRarityTags from '../Tags/CharacterRarityTags';\r\nimport { Link } from 'react-router-dom';\r\nimport Utils from '../../Utils';\r\n\r\nclass CharactersList extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      visions: [],\r\n      weapons: [],\r\n      rarity: [],\r\n      search: \"\"\r\n    }\r\n\r\n  }\r\n  onSearch = (search) => {\r\n    this.setState({ search });\r\n  }\r\n  setVisions = (newTags) => {\r\n    this.setState({ \"visions\": newTags });\r\n  }\r\n  setWeapons = (newTags) => {\r\n    this.setState({ \"weapons\": newTags });\r\n  }\r\n  setRarity = (newTags) => {\r\n    this.setState({ \"rarity\": newTags });\r\n  }\r\n  charaRender = (key, data) => {\r\n    const { rarity, weapontype, element, talentName, costs } = data;\r\n    const allCosts = {\r\n      ...costs,\r\n      ...genshindb.talents(talentName).costs\r\n    };\r\n    let lvlMats = {};\r\n    for (const cKey in allCosts) {\r\n      for (let i = 0; i < allCosts[cKey].length; i++) {\r\n        const item = genshindb.materials(allCosts[cKey][i].name);\r\n        let mType = item.materialtype.replace(/\\(.*\\)\\s*/, \"\").trim();\r\n        if ([\"Character Level-Up Material\", \"Talent Level-Up Material\"].includes(mType)) {\r\n          lvlMats[item.name] = item;\r\n        }\r\n      }\r\n    }\r\n    let lvlMatsSorted = Object.values(lvlMats).sort((a, b) => a.sortorder - b.sortorder);\r\n    let prev;\r\n    for (let i = lvlMatsSorted.length - 1; i >= 0; i--) {\r\n      let current = lvlMatsSorted[i];\r\n      if (prev && Utils.SimilarMaterial(current, prev)) {\r\n        lvlMatsSorted.splice(i, 1);\r\n      }\r\n      prev = current;\r\n    }\r\n    let mats = [];\r\n    for (let i = 0; i < lvlMatsSorted.length; i++) {\r\n      const element = lvlMatsSorted[i];\r\n      mats.push(<a href={element.url.fandom} target=\"_blank\">\r\n        <img\r\n          key={\"lvlmaterial-\" + i}\r\n          src={element.images.fandom}\r\n          style={{ maxWidth: \"32px\" }}\r\n        />\r\n      </a>);\r\n    }\r\n\r\n    const className = \"itemWrapper character rarity\" + rarity;\r\n    const style = {\r\n      width: \"124px\"\r\n    }\r\n    let stars = [];\r\n    for (let i = 0; i < rarity; i++) {\r\n      stars.push(<Icon key={\"star\" + i} icon=\"star\" />)\r\n    }\r\n    return <FlexboxGrid.Item key={\"character_\" + key} className={className} style={style}>\r\n      <div className=\"item\">\r\n        <div className=\"header\">\r\n          <Link to={\"characters/\" + key}>\r\n            {data.talentName}\r\n          </Link>\r\n        </div>\r\n        <div className=\"header rarity\">\r\n          {stars}\r\n        </div>\r\n        <Link to={\"characters/\" + key}>\r\n          <ImgIcon src={data.images.icon} img size=\"124\" height=\"124px\" />\r\n        </Link>\r\n\r\n        <FlexboxGrid className=\"header\">\r\n          <FlexboxGrid.Item colspan={12}>\r\n            <ImgIcon src={\"element \" + element.toLowerCase()} size=\"32\" />\r\n          </FlexboxGrid.Item>\r\n          <FlexboxGrid.Item colspan={12}>\r\n            <ImgIcon src={\"wtype \" + weapontype.toLowerCase()} size=\"32\" />\r\n          </FlexboxGrid.Item>\r\n        </FlexboxGrid>\r\n\r\n        <FlexboxGrid className=\"header\">\r\n          <FlexboxGrid.Item colspan={24}>\r\n            {mats}\r\n          </FlexboxGrid.Item>\r\n        </FlexboxGrid>\r\n      </div>\r\n    </FlexboxGrid.Item>\r\n  }\r\n  render() {\r\n    const { charactersDB } = this.props;\r\n    const { visions, weapons, rarity, search } = this.state;\r\n    let blocks = [];\r\n    for (const charaName in charactersDB) {\r\n      const data = charactersDB[charaName];\r\n      if (!data.talentName.toLowerCase().includes(search.toLowerCase())) continue;\r\n      if (rarity.length > 0 && !rarity.includes(data.rarity)) continue;\r\n      if (visions.length > 0 && !visions.includes(data.element)) continue;\r\n      if (weapons.length > 0 && !weapons.includes(data.weapontype)) continue;\r\n      blocks.push(this.charaRender(charaName, data));\r\n    }\r\n    return <React.Fragment>\r\n      <VisionTags\r\n        defaultSelected={visions}\r\n        onChange={this.setVisions}\r\n      />\r\n      <FlexboxGrid.Item colspan={24} />\r\n      <WeaponTags\r\n        defaultSelected={weapons}\r\n        onChange={this.setWeapons}\r\n      />\r\n      <FlexboxGrid.Item colspan={24} />\r\n      <CharacterRarityTags\r\n        defaultSelected={rarity}\r\n        onChange={this.setRarity}\r\n      />\r\n      <FlexboxGrid.Item colspan={24} >\r\n        <InputGroup className=\"search\">\r\n          <Input value={search} onChange={this.onSearch} />\r\n          <InputGroup.Addon>\r\n            <Icon icon=\"search\" />\r\n          </InputGroup.Addon>\r\n        </InputGroup>\r\n      </FlexboxGrid.Item>\r\n      {blocks}\r\n    </React.Fragment>\r\n  }\r\n}\r\n\r\nexport default CharactersList;","import { FlexboxGrid, Col } from 'rsuite';\r\nimport Utils from '../../Utils';\r\n\r\nconst CharacterInfoHeader = ({ data }) => {\r\n  const displayData = {\r\n    \"Rarity\": data.rarity,\r\n    \"Element\": data.element,\r\n    \"Weapon Type\": data.weapontype,\r\n    \"Gender\": data.gender,\r\n    \"Body Type\": data.body,\r\n    \"Birthday\": data.birthday,\r\n    \"Region\": data.region,\r\n    \"Affiliation\": data.affiliation,\r\n    \"Constellation\": data.constellation,\r\n    \"CV\": data.cv,\r\n    \"Fandom\": data.url.fandom ? [<a key=\"url\" href={data.url.fandom} >{data.url.fandom}</a>] : \"\"\r\n  };\r\n  let rows = [];\r\n  let i = 0;\r\n  for (const key in displayData) {\r\n    let value = displayData[key];\r\n    const isOdd = i % 2 === 1;\r\n    if (Utils.isPlainObject(value)) {\r\n      let tempValue = [];\r\n      for (const key2 in value) {\r\n        if (Object.hasOwnProperty.call(value, key2)) {\r\n          tempValue.push(<p key={key + \":\" + key2}>\r\n            <b>{key2}</b>: {value[key2]}\r\n          </p>)\r\n        }\r\n      }\r\n      value = tempValue;\r\n    }\r\n    rows.push(\r\n      <FlexboxGrid className={\"tableRows \" + (isOdd ? \"odd\" : \"even\")} key={\"dataDisplay-\" + key}>\r\n        <FlexboxGrid.Item colspan={10}>{key}</FlexboxGrid.Item>\r\n        <FlexboxGrid.Item colspan={14}>{value}</FlexboxGrid.Item>\r\n      </FlexboxGrid>\r\n    )\r\n    i++;\r\n  }\r\n\r\n  return <FlexboxGrid className=\"infoHeader\">\r\n    <FlexboxGrid.Item componentClass={Col} colspan={24} mdHidden lgHidden>\r\n      <img\r\n        src={data.images.cover1}\r\n        alt={data.talentName}\r\n        className=\"characterCover\"\r\n        style={{\r\n          width: \"100%\",\r\n          maxWidth: \"100%\"\r\n        }}\r\n      />\r\n    </FlexboxGrid.Item>\r\n\r\n    <FlexboxGrid.Item componentClass={Col} colspan={10} md={10} sm={24} xs={24}>\r\n      {rows}\r\n    </FlexboxGrid.Item>\r\n\r\n    <FlexboxGrid.Item componentClass={Col} colspan={14} md={14} xsHidden smHidden>\r\n      <img\r\n        src={data.images.cover1}\r\n        alt={data.talentName}\r\n        className=\"characterCover\"\r\n        style={{\r\n          width: \"100%\",\r\n          maxWidth: \"100%\"\r\n        }}\r\n      />\r\n    </FlexboxGrid.Item>\r\n  </FlexboxGrid>\r\n}\r\n\r\nexport default CharacterInfoHeader;","import { FlexboxGrid } from 'rsuite';\r\n\r\nimport Utils from '../../Utils';\r\n\r\nconst entries = [\r\n  [1, null],\r\n  [20, null], [20, \"+\"],\r\n  [40, null], [40, \"+\"],\r\n  [50, null], [50, \"+\"],\r\n  [60, null], [60, \"+\"],\r\n  [70, null], [70, \"+\"],\r\n  [80, null], [80, \"+\"],\r\n  [90, null]\r\n]\r\n\r\nconst CharacterInfoStats = ({ data }) => {\r\n  let rows = [];\r\n  let ascRows = {};\r\n  for (let i = 0; i < entries.length; i++) {\r\n    const element = entries[i];\r\n    const stats = data.stats(element[0], element[1]);\r\n    ascRows[stats.ascension] = ascRows[stats.ascension] || [];\r\n    ascRows[stats.ascension].push(stats)\r\n  }\r\n  let asc = 0;\r\n  for (const key in ascRows) {\r\n    const stats = ascRows[key];\r\n    let inner = [];\r\n    for (let j = 0; j < stats.length; j++) {\r\n      const stat = stats[j];\r\n      inner.push(<FlexboxGrid className=\"row\" key={\"ascstats\" + j}>\r\n        <FlexboxGrid.Item className=\"flex1\">{Utils.FormatNumber(stat.level)}</FlexboxGrid.Item>\r\n        <FlexboxGrid.Item className=\"flex1\">{Utils.FormatNumber(stat.hp)}</FlexboxGrid.Item>\r\n        <FlexboxGrid.Item className=\"flex1\">{Utils.FormatNumber(stat.attack)}</FlexboxGrid.Item>\r\n        <FlexboxGrid.Item className=\"flex1\">{Utils.FormatNumber(stat.defense)}</FlexboxGrid.Item>\r\n        <FlexboxGrid.Item className=\"flex1\">{Utils.FormatNumber(stat.specialized)} %</FlexboxGrid.Item>\r\n      </FlexboxGrid>)\r\n    }\r\n    const isOdd = ++asc % 2 === 1;\r\n    const rowName = \"tableRows \" + (isOdd ? \"odd\" : \"even\");\r\n    rows.push(<FlexboxGrid className={rowName} align=\"middle\" key={\"ascRow\" + asc}>\r\n      <FlexboxGrid.Item colspan={4}>{asc}</FlexboxGrid.Item>\r\n      <FlexboxGrid.Item colspan={20}>\r\n        {inner}\r\n      </FlexboxGrid.Item>\r\n    </FlexboxGrid>)\r\n  }\r\n\r\n  return <div className=\"stats\">\r\n    <h2>Base Stats</h2>\r\n    <FlexboxGrid align=\"middle\" className=\"tableRows header\">\r\n      <FlexboxGrid.Item colspan={4}>Ascension</FlexboxGrid.Item>\r\n      <FlexboxGrid.Item colspan={4}>Level</FlexboxGrid.Item>\r\n      <FlexboxGrid.Item colspan={4}>Base HP</FlexboxGrid.Item>\r\n      <FlexboxGrid.Item colspan={4}>Base Attack</FlexboxGrid.Item>\r\n      <FlexboxGrid.Item colspan={4}>Base Defense</FlexboxGrid.Item>\r\n      <FlexboxGrid.Item colspan={4}>{data.substat} %</FlexboxGrid.Item>\r\n    </FlexboxGrid>\r\n    {rows}\r\n  </div>\r\n}\r\n\r\nexport default CharacterInfoStats;","import { FlexboxGrid, Table } from 'rsuite';\r\n\r\nimport ImgIcon from '../Icon';\r\nimport Utils from '../../Utils';\r\n\r\nconst { Column, HeaderCell, Cell } = Table;\r\n\r\nconst CharacterInfoTalent = ({ talentData, image }) => {\r\n  let tableData = [];\r\n  for (let i = 0; i < talentData.attributes.labels.length; i++) {\r\n    const label = talentData.attributes.labels[i];\r\n    // const rgx = label.match(/([^\\|]+)\\|{(param[0-9]+)\\:([^\\}]+)}([^\\{]*)(?:{(param[0-9]+)\\:([^\\}]+)})?/i);\r\n    const rgx = label.match(/([^\\|]+)\\|{(param[0-9]+):([^\\}]+)}([^\\{]*)(?:{(param[0-9]+):([^\\}]+)})?/i);\r\n    const param = talentData.attributes.parameters[rgx[2]];\r\n    let attrData = {\r\n      name: rgx[1]\r\n    };\r\n    for (let j = 0; j < param.length; j++) {\r\n      attrData[\"lvl\" + (j + 1)] = Utils.Format(param[j], rgx[3]) + rgx[4];\r\n    }\r\n    if (rgx[5]) {\r\n      const param2 = talentData.attributes.parameters[rgx[5]];\r\n      for (let j = 0; j < param2.length; j++) {\r\n        attrData[\"lvl\" + (j + 1)] += \" \" + Utils.Format(param2[j], rgx[3]);\r\n      }\r\n    }\r\n    tableData.push(attrData);\r\n  }\r\n  let cols = [];\r\n  for (let i = 1; i <= 15; i++) {\r\n    cols.push(<Column width={80} key={talentData.name + \"header\" + i}>\r\n      <HeaderCell>Lvl {i}</HeaderCell>\r\n      <Cell dataKey={\"lvl\" + i} />\r\n    </Column>)\r\n  }\r\n  return <FlexboxGrid className=\"talents\" >\r\n    <FlexboxGrid.Item className=\"name\" colspan={24}>\r\n      <h3>{talentData.name}</h3>\r\n    </FlexboxGrid.Item>\r\n\r\n    <FlexboxGrid className=\"desc\">\r\n      <FlexboxGrid.Item className=\"alignSelfCenter paddedSides\">\r\n        <ImgIcon src={image} img size=\"75\" />\r\n      </FlexboxGrid.Item>\r\n      <FlexboxGrid.Item className=\"flex1\">\r\n        {Utils.Markdown(talentData.info)}\r\n      </FlexboxGrid.Item>\r\n    </FlexboxGrid>\r\n\r\n\r\n    <FlexboxGrid.Item className=\"tabel\" colspan={24}>\r\n      <Table\r\n        data={tableData}\r\n        autoHeight\r\n        wordWrap\r\n      >\r\n        <Column minWidth={120} fixed flexGrow={1}>\r\n          <HeaderCell></HeaderCell>\r\n          <Cell dataKey=\"name\" />\r\n        </Column>\r\n        {cols}\r\n      </Table>\r\n    </FlexboxGrid.Item>\r\n  </FlexboxGrid>\r\n}\r\n\r\nexport default CharacterInfoTalent;","import { FlexboxGrid } from 'rsuite';\r\n\r\nimport Utils from '../../Utils';\r\nimport ImgIcon from '../Icon';\r\n\r\nconst CharacterInfoPassive = ({ passiveData, image }) => {\r\n\r\n  return <FlexboxGrid className=\"constellations\" align=\"middle\">\r\n    <FlexboxGrid.Item className=\"paddedSides\">\r\n      <ImgIcon src={image} img size=\"50\" />\r\n    </FlexboxGrid.Item>\r\n    <FlexboxGrid.Item className=\"flex1\">\r\n      <h3>{passiveData.name}</h3>\r\n      {Utils.Markdown(passiveData.info)}\r\n    </FlexboxGrid.Item>\r\n  </FlexboxGrid>\r\n}\r\n\r\nexport default CharacterInfoPassive;","import { FlexboxGrid } from 'rsuite';\r\n\r\nimport Utils from '../../Utils';\r\nimport ImgIcon from '../Icon';\r\n\r\nconst CharacterInfoConstellations = ({ constellationData }) => {\r\n  let rows = [];\r\n  for (const con in constellationData) {\r\n    if (!con.includes(\"c\")) continue;\r\n    const consData = constellationData[con];\r\n    rows.push(<FlexboxGrid align=\"middle\" className=\"constellation\" key={con}>\r\n      <FlexboxGrid.Item colspan={1}>\r\n        <b>{con}</b>\r\n      </FlexboxGrid.Item>\r\n      <FlexboxGrid.Item className=\"paddedSides\">\r\n        <ImgIcon src={constellationData.images[con]} img size=\"50\" />\r\n      </FlexboxGrid.Item>\r\n      <FlexboxGrid.Item className=\"flex1\">\r\n        <h3>{consData.name}</h3>\r\n        {Utils.Markdown(consData.effect)}\r\n      </FlexboxGrid.Item>\r\n    </FlexboxGrid>)\r\n  }\r\n  return <FlexboxGrid className=\"constellations\">\r\n    <FlexboxGrid.Item colspan={24}>\r\n      <h1>Constellations</h1>\r\n    </FlexboxGrid.Item>\r\n    <FlexboxGrid.Item colspan={24}>\r\n      {rows}\r\n    </FlexboxGrid.Item>\r\n  </FlexboxGrid>\r\n}\r\n\r\nexport default CharacterInfoConstellations;","import React from 'react';\r\nimport { FlexboxGrid } from 'rsuite';\r\n\r\nimport '../css/icons.css';\r\n\r\nconst ItemIcon = ({ itemData, count, size, className, onClick }) => {\r\n  size = size || \"24px\";\r\n  className += \" icon\";\r\n  const style = {\r\n    width: \"auto\",\r\n    height: \"auto\",\r\n    maxWidth: size,\r\n    maxHeight: size\r\n  }\r\n  return <FlexboxGrid.Item className=\"itemWrapper\">\r\n    <div className=\"item\">\r\n      <img\r\n        src={itemData.images.fandom}\r\n        style={style}\r\n        className={className}\r\n        title={itemData.name}\r\n        alt={itemData.name}\r\n        onClick={onClick}\r\n      />\r\n      <div className=\"itemCount\">\r\n        {count}\r\n      </div>\r\n    </div>\r\n  </FlexboxGrid.Item>\r\n\r\n}\r\n\r\nexport default ItemIcon;","import { FlexboxGrid } from 'rsuite';\r\n\r\nimport ItemIcon from '../ItemIcon';\r\n\r\nimport genshindb from 'genshin-db';\r\n\r\nconst CharacterInfoAscCost = ({ costs }) => {\r\n  console.log(costs);\r\n  let rows = [];\r\n  let ascI = 0;\r\n\r\n  for (const key in costs) {\r\n    const isOdd = ++ascI % 2 === 1;\r\n    const rowName = \"tableRows \" + (isOdd ? \"odd\" : \"even\");\r\n    let sort = {};\r\n    for (let j = 0; j < costs[key].length; j++) {\r\n      const item = genshindb.materials(costs[key][j].name);\r\n      const mType = item.materialtype.replace(/\\(.*\\)\\s*/, \"\").trim();\r\n      sort[mType] = sort[mType] || [];\r\n      sort[mType].push({\r\n        count: costs[key][j].count,\r\n        ...item\r\n      });\r\n    }\r\n    const render = (entry) => {\r\n      let boxes = [];\r\n      for (let k = 0; k < entry.length; k++) {\r\n        const element = entry[k];\r\n        boxes.push(\r\n          <ItemIcon\r\n            itemData={element}\r\n            count={element.count}\r\n            size=\"48px\"\r\n          />\r\n        );\r\n      }\r\n      return <FlexboxGrid justify=\"center\">{boxes}</FlexboxGrid>;\r\n    }\r\n    rows.push(\r\n      <FlexboxGrid align=\"middle\" className={rowName} key={\"ascCost\" + key}>\r\n        <FlexboxGrid.Item colspan={5}>{ascI - 1} &gt; {ascI}</FlexboxGrid.Item>\r\n        <FlexboxGrid.Item colspan={5}>{sort[\"Common Currency\"][0].count}</FlexboxGrid.Item>\r\n        <FlexboxGrid.Item colspan={9}>{render(sort[\"Character Level-Up Material\"])}</FlexboxGrid.Item>\r\n        <FlexboxGrid.Item colspan={5}>{render(sort[\"Local Specialty\"])}</FlexboxGrid.Item>\r\n      </FlexboxGrid>\r\n    )\r\n\r\n  }\r\n  return <div className=\"ascCosts\" >\r\n    <h2>Ascension Costs</h2>\r\n    <FlexboxGrid align=\"middle\" className=\"tableRows header\">\r\n      <FlexboxGrid.Item colspan={5}>Ascension</FlexboxGrid.Item>\r\n      <FlexboxGrid.Item colspan={5}>Mora</FlexboxGrid.Item>\r\n      <FlexboxGrid.Item colspan={9}>Character Acension Materials</FlexboxGrid.Item>\r\n      <FlexboxGrid.Item colspan={5}>Local Specialties</FlexboxGrid.Item>\r\n    </FlexboxGrid>\r\n    {rows}\r\n  </div>\r\n}\r\n\r\nexport default CharacterInfoAscCost;","import { FlexboxGrid } from 'rsuite';\r\n\r\nimport ItemIcon from '../ItemIcon';\r\n\r\nimport genshindb from 'genshin-db';\r\n\r\nconst CharacterInfoTalentCost = ({ costs }) => {\r\n  console.log(costs);\r\n  let rows = [];\r\n  let ascI = 0;\r\n\r\n  for (const key in costs) {\r\n    const title = key.replace(/[^0-9](?=[0-9])/g, \"$& \");\r\n    const isOdd = ++ascI % 2 === 1;\r\n    const rowName = \"tableRows \" + (isOdd ? \"odd\" : \"even\");\r\n    let sort = {};\r\n    for (let j = 0; j < costs[key].length; j++) {\r\n      const item = genshindb.materials(costs[key][j].name);\r\n      let mType = item.materialtype.replace(/\\(.*\\)\\s*/, \"\").trim();\r\n      if (mType !== \"Common Currency\") {\r\n        mType = \"Materials\";\r\n      }\r\n      sort[mType] = sort[mType] || [];\r\n      sort[mType].push({\r\n        count: costs[key][j].count,\r\n        ...item\r\n      });\r\n    }\r\n    const render = (entry) => {\r\n      let boxes = [];\r\n      for (let k = 0; k < entry.length; k++) {\r\n        const element = entry[k];\r\n        boxes.push(\r\n          <ItemIcon\r\n            itemData={element}\r\n            count={element.count}\r\n            size=\"48px\"\r\n          />\r\n        );\r\n      }\r\n      return <FlexboxGrid>{boxes}</FlexboxGrid>;\r\n    }\r\n    rows.push(\r\n      <FlexboxGrid align=\"middle\" className={rowName} key={\"ascCost\" + key}>\r\n        <FlexboxGrid.Item colspan={5}>{title}</FlexboxGrid.Item>\r\n        <FlexboxGrid.Item colspan={5}>{sort[\"Common Currency\"][0].count}</FlexboxGrid.Item>\r\n        <FlexboxGrid.Item colspan={10} className=\"flex1\">{render(sort[\"Materials\"])}</FlexboxGrid.Item>\r\n      </FlexboxGrid>\r\n    )\r\n  }\r\n  return <div className=\"talentCosts\" >\r\n    <h2>Talent Costs</h2>\r\n    <FlexboxGrid align=\"middle\" className=\"tableRows header\">\r\n      <FlexboxGrid.Item colspan={5}>Level</FlexboxGrid.Item>\r\n      <FlexboxGrid.Item colspan={5}>Mora</FlexboxGrid.Item>\r\n      <FlexboxGrid.Item colspan={10} className=\"flex1\">Materials</FlexboxGrid.Item>\r\n    </FlexboxGrid>\r\n    {rows}\r\n  </div>\r\n}\r\n\r\nexport default CharacterInfoTalentCost;","import CharacterInfoHeader from './CharacterInfoHeader';\r\nimport CharacterInfoStats from './CharacterInfoStats';\r\nimport CharacterInfoTalent from './CharacterInfoTalent';\r\nimport CharacterInfoPassive from './CharacterInfoPassive';\r\nimport CharacterInfoConstellations from './CharacterInfoConstellations';\r\nimport CharacterInfoAscCost from './CharacterInfoAscCosts';\r\nimport CharacterInfoTalentCost from './CharacterinfoTalentCosts';\r\n\r\nimport genshindb from 'genshin-db';\r\n\r\nconst CharacterInfo = ({ data }) => {\r\n  const name = data.talentName;\r\n  const talents = genshindb.talents(name);\r\n  const constellations = genshindb.constellations(name);\r\n  let passives = [];\r\n  for (const talent in talents) {\r\n    if (talent.includes(\"passive\")) {\r\n      passives.push(\r\n        <CharacterInfoPassive\r\n          key={\"passive\" + talent}\r\n          passiveData={talents[talent]}\r\n          image={talents.images[talent]}\r\n        />)\r\n    }\r\n  }\r\n  return <div className=\"characterInfo\">\r\n    <h1>{name}</h1>\r\n    <CharacterInfoHeader data={data} />\r\n    <CharacterInfoStats data={data} />\r\n    <CharacterInfoAscCost costs={data.costs} />\r\n    <h1>Talents</h1>\r\n    <CharacterInfoTalent talentData={talents.combat1} image={talents.images.combat1} />\r\n    <CharacterInfoTalent talentData={talents.combat2} image={talents.images.combat2} />\r\n    <CharacterInfoTalent talentData={talents.combat3} image={talents.images.combat3} />\r\n    <CharacterInfoTalentCost costs={talents.costs} />\r\n    <h1>Passives</h1>\r\n    {passives}\r\n    <CharacterInfoConstellations constellationData={constellations} />\r\n  </div>\r\n}\r\n\r\nexport default CharacterInfo;","import React, { memo } from 'react';\r\n\r\nimport Utils from '../Utils';\r\nimport changeLog from '../changeLog.json';\r\nimport { FlexboxGrid, Modal } from 'rsuite';\r\n\r\nconst Updates = ({ show, onHide }) => {\r\n  let blocks = [];\r\n  for (const key in changeLog) {\r\n    if (Object.hasOwnProperty.call(changeLog, key)) {\r\n      const value = changeLog[key];\r\n      blocks.push(<FlexboxGrid className=\"row\" key={\"update\" + key}>\r\n        <FlexboxGrid.Item colspan={4}>{key}</FlexboxGrid.Item>\r\n        <FlexboxGrid.Item colspan={20}>{Utils.Markdown(value)}</FlexboxGrid.Item>\r\n      </FlexboxGrid>)\r\n    }\r\n  }\r\n  return <Modal show={show} onHide={onHide} className=\"updates\">\r\n    <Modal.Header>\r\n      <Modal.Title>Change log</Modal.Title>\r\n    </Modal.Header>\r\n    <Modal.Body>\r\n      {blocks}\r\n    </Modal.Body>\r\n  </Modal>\r\n}\r\n\r\nexport default Updates;","import { memo } from 'react';\r\nimport { Button, Content, Icon } from 'rsuite';\r\nimport Updates from './Updates';\r\n\r\nconst About = memo(({ onShowUpdate }) => {\r\n  return <Content className=\"content about\">\r\n    <Button onClick={onShowUpdate}>\r\n      View Changelog\r\n    </Button>\r\n\r\n    <h2>Contact</h2>\r\n\r\n    <a href=\"https://github.com/Queue-cs/Genshin\">\r\n      <Icon icon=\"github\" size=\"2x\" />&nbsp;\r\n      Queue-cs/Genshin\r\n    </a><br />\r\n\r\n    <a href=\"https://twitter.com/QueueCs\">\r\n      <Icon icon=\"twitter\" size=\"2x\" />&nbsp;\r\n      @QueueCs\r\n    </a>\r\n\r\n    <h2>Sources</h2>\r\n    <div className=\"truncate\">\r\n      <a href=\"https://genshin-impact.fandom.com/\">\r\n        https://genshin-impact.fandom.com/\r\n      </a>\r\n      <br />\r\n      <a href=\"https://github.com/theBowja/genshin-db\">\r\n        https://github.com/theBowja/genshin-db\r\n      </a>\r\n    </div>\r\n\r\n  </Content>\r\n})\r\n\r\nexport default About;","import Tags from \"./Tags\";\r\n\r\nconst weaponRarityList = {\r\n  \"1\": \"1-Star\",\r\n  \"2\": \"2-Star\",\r\n  \"3\": \"3-Star\",\r\n  \"4\": \"4-Star\",\r\n  \"5\": \"5-Star\"\r\n}\r\n\r\nconst WeaponRarityTags = ({ defaultSelected, onChange }) => {\r\n  return <Tags\r\n    list={weaponRarityList}\r\n    defaultSelected={defaultSelected}\r\n    onChange={onChange}\r\n  />\r\n}\r\n\r\nexport default WeaponRarityTags;","import React from 'react';\r\nimport { InputGroup, Input, Icon, FlexboxGrid, Col } from 'rsuite';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport WeaponRarityTags from '../Tags/WeaponRarityTags';\r\nimport WeaponTags from '../Tags/WeaponTags';\r\nimport genshindb from 'genshin-db';\r\n\r\nimport Utils from '../../Utils';\r\n\r\nclass WeaponsList extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      weapons: [],\r\n      rarity: [],\r\n      search: \"\"\r\n    }\r\n\r\n  }\r\n  onSearch = (search) => {\r\n    this.setState({ search });\r\n  }\r\n  setWeapons = (newTags) => {\r\n    this.setState({ \"weapons\": newTags });\r\n  }\r\n  setRarity = (newTags) => {\r\n    this.setState({ \"rarity\": newTags });\r\n  }\r\n  wepRender = (key, data) => {\r\n    const { rarity, effect, effectname, stats, substat, subvalue, baseatk, r1, costs } = data;\r\n    const className = \"row weapon rarity\" + rarity;\r\n    let stars = [];\r\n    for (let i = 0; i < rarity; i++) {\r\n      stars.push(<Icon key={\"star\" + i} icon=\"star\" />)\r\n    }\r\n    const lvl90 = stats(90) || stats(70);\r\n    const baseAtk90 = Math.round(lvl90.attack) || \"\";\r\n    const isPercent = substat !== \"Elemental Mastery\";\r\n    const sub90 = lvl90.specialized ? Utils.Format(lvl90.specialized, isPercent ? \"P\" : \"I\") : \"N/A\";\r\n    const subSuffix = isPercent ? \"%\" : \"\";\r\n    const style = {\r\n      width: \"auto\",\r\n      height: \"auto\",\r\n      maxWidth: \"100%\",\r\n      maxHeight: \"100%\"\r\n    }\r\n    const lvlMats = Object.values(costs).slice(-1)[0];\r\n    const mats = [];\r\n    for (let i = 0; i < lvlMats.length; i++) {\r\n      const mat = genshindb.materials(lvlMats[i].name);\r\n      if ([\"Character Level-Up Material\", \"Weapon Ascension Material\"].includes(mat.materialtype)) {\r\n        mats.push(<a href={mat.url.fandom} target=\"_blank\">\r\n          <img\r\n            key={\"lvlmaterial-\" + i}\r\n            src={mat.images.fandom}\r\n            style={{ maxWidth: \"32px\" }}\r\n          />\r\n        </a>)\r\n      }\r\n    }\r\n\r\n    return <FlexboxGrid.Item key={\"weapon_\" + key} className={className} colspan={24}>\r\n      <FlexboxGrid align=\"middle\" className=\"container\">\r\n        <FlexboxGrid.Item colspan={3} style={{ maxWidth: \"64px\" }}>\r\n          <Link to={'/weapons/' + key}>\r\n            <img\r\n              src={data.images.icon}\r\n              style={style}\r\n              title={data.name}\r\n              alt={data.name}\r\n            />\r\n          </Link>\r\n        </FlexboxGrid.Item>\r\n        <FlexboxGrid.Item colspan={4} style={{ minWidth: \"125px\" }}>\r\n          <Link to={'/weapons/' + key}>{data.name}</Link>\r\n        </FlexboxGrid.Item>\r\n        <FlexboxGrid.Item colspan={2}>\r\n          {stars}\r\n        </FlexboxGrid.Item>\r\n        <FlexboxGrid.Item colspan={2} style={{ minWidth: \"75px\" }}>\r\n          {baseatk} ({baseAtk90})\r\n        </FlexboxGrid.Item>\r\n        <FlexboxGrid.Item colspan={2} style={{ minWidth: \"75px\" }}>\r\n          {substat} {subvalue}{subSuffix} ({sub90})\r\n        </FlexboxGrid.Item>\r\n        <FlexboxGrid.Item className=\"flex1\" componentClass={Col} xsHidden smHidden>\r\n          <span className=\"effectName\">{effectname}</span>\r\n          <p>{Utils.StringFormat(effect, r1)}</p>\r\n        </FlexboxGrid.Item>\r\n        <FlexboxGrid.Item className=\"flex1\" style={{ maxWidth: \"103px\", width: \"10%\" }}>\r\n          {mats}\r\n        </FlexboxGrid.Item>\r\n      </FlexboxGrid>\r\n    </FlexboxGrid.Item>\r\n  }\r\n  render() {\r\n    const { weaponsDB } = this.props;\r\n    const { weapons, rarity, search } = this.state;\r\n    let blocks = [];\r\n    for (const wepName in weaponsDB) {\r\n      const data = weaponsDB[wepName];\r\n      if (!wepName.toLowerCase().includes(search.toLowerCase())) continue;\r\n      if (rarity.length > 0 && !rarity.includes(data.rarity)) continue;\r\n      if (weapons.length > 0 && !weapons.includes(data.weapontype)) continue;\r\n      blocks.push(this.wepRender(wepName, data));\r\n    }\r\n    return <React.Fragment>\r\n      <WeaponTags\r\n        defaultSelected={weapons}\r\n        onChange={this.setWeapons}\r\n      />\r\n      <FlexboxGrid.Item colspan={24} />\r\n      <WeaponRarityTags\r\n        defaultSelected={rarity}\r\n        onChange={this.setRarity}\r\n      />\r\n      <FlexboxGrid.Item colspan={24} >\r\n        <InputGroup className=\"search\">\r\n          <Input value={search} onChange={this.onSearch} />\r\n          <InputGroup.Addon>\r\n            <Icon icon=\"search\" />\r\n          </InputGroup.Addon>\r\n        </InputGroup>\r\n      </FlexboxGrid.Item>\r\n      <FlexboxGrid.Item colspan={24} className=\"weaponList\">\r\n        <FlexboxGrid.Item colspan={24}  >\r\n          <FlexboxGrid className=\"row header\" align=\"middle\">\r\n            <FlexboxGrid.Item colspan={3} style={{ maxWidth: \"64px\" }}>\r\n              Icon\r\n            </FlexboxGrid.Item>\r\n            <FlexboxGrid.Item colspan={4} style={{ minWidth: \"125px\" }}>\r\n              Name\r\n            </FlexboxGrid.Item>\r\n            <FlexboxGrid.Item colspan={2}>\r\n              Rarity\r\n            </FlexboxGrid.Item>\r\n            <FlexboxGrid.Item colspan={2} style={{ minWidth: \"75px\" }}>\r\n              Base ATK (Max Lvl)\r\n            </FlexboxGrid.Item>\r\n            <FlexboxGrid.Item colspan={2} style={{ minWidth: \"75px\" }}>\r\n              2nd Stat (Max Lvl)\r\n            </FlexboxGrid.Item>\r\n            <FlexboxGrid.Item className=\"flex1\" componentClass={Col} xsHidden smHidden>\r\n              Passive\r\n            </FlexboxGrid.Item>\r\n            <FlexboxGrid.Item className=\"flex1\" style={{ maxWidth: \"103px\", width: \"10%\" }}>\r\n              Materials\r\n            </FlexboxGrid.Item>\r\n          </FlexboxGrid>\r\n        </FlexboxGrid.Item>\r\n        {blocks}\r\n      </FlexboxGrid.Item>\r\n\r\n    </React.Fragment>\r\n  }\r\n}\r\n\r\nexport default WeaponsList;","import React from 'react';\r\nimport { Content, FlexboxGrid } from 'rsuite';\r\n\r\nimport genshindb from 'genshin-db';\r\nimport WeaponsList from './WeaponsList';\r\n\r\nconsole.log(genshindb.weapons('Dull Blade'));\r\n\r\nconst Weapons = class extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    const allWeapons = genshindb.weapons('names', { matchCategories: true });\r\n    let sortedDB = {\r\n      \"Sword\": [],\r\n      \"Claymore\": [],\r\n      \"Polearm\": [],\r\n      \"Bow\": [],\r\n      \"Catalyst\": []\r\n    };\r\n    this.flatDB = {};\r\n    for (let i = 0; i < allWeapons.length; i++) {\r\n      const wepName = allWeapons[i];\r\n      const wepKey = wepName.replace(/[\\s]+/g, \"_\").replace(/[\\(\\)]+/g, \"\")\r\n      const data = genshindb.weapons(wepName);\r\n      sortedDB[data.weapontype].push({ ...data, wepKey });\r\n      sortedDB[data.weapontype].sort((a, b) => {\r\n        return a.rarity - b.rarity\r\n      });\r\n    }\r\n    for (const key in sortedDB) {\r\n      for (let i = 0; i < sortedDB[key].length; i++) {\r\n        const element = sortedDB[key][i];\r\n        this.flatDB[element.wepKey] = element;\r\n      }\r\n    }\r\n  }\r\n  render() {\r\n    const {\r\n      match, history\r\n    } = this.props;\r\n    const data = this.flatDB[match.params.weaponID];\r\n    return <Content className=\"content weapons\">\r\n      <FlexboxGrid justify=\"center\">\r\n        {/* {\r\n          data ? <CharacterInfo data={data} />\r\n            : <CharactersList charactersDB={charactersDB} history={history} />\r\n        } */}\r\n        <WeaponsList weaponsDB={this.flatDB} history={history} />\r\n      </FlexboxGrid>\r\n    </Content>\r\n\r\n  }\r\n}\r\n\r\nexport default Weapons;","import React from 'react';\r\nimport { observer } from 'mobx-react';\r\n\r\nimport { FlexboxGrid, Container, Header, Icon } from 'rsuite';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\n\r\nimport NavBar from './NavBar';\r\nimport Characters from './Characters/Characters';\r\nimport About from './About';\r\n\r\nimport '../css/app.css';\r\nimport Updates from './Updates';\r\nimport Weapons from './Weapons/Weapons';\r\n\r\n// get original url hash\r\n(function (location) {\r\n  let search = location.search;\r\n  if (location.hash && location.hash[1] === '/') {\r\n    search = '?path=' + location.hash.slice(2);\r\n  }\r\n  if (search) {\r\n    const path = /path=(.*?)(?:&|$)/.exec(search);\r\n    const hash = /hash=(.*?)(?:&|$)/.exec(search);\r\n    let newPath = '';\r\n    if (path) newPath += path[1];\r\n    if (hash) newPath += '#' + hash[1];\r\n    if (newPath) {\r\n      window.history.replaceState(null, null, '/' + newPath);\r\n    }\r\n  }\r\n})(window.location);\r\n\r\nconst App = observer(class extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showUpdates: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      showUpdates: this.props.store.outDated\r\n    })\r\n  }\r\n\r\n  onShowUpdate = () => {\r\n    this.setState({\r\n      showUpdates: true\r\n    })\r\n  }\r\n\r\n  onHideUpdate = () => {\r\n    this.setState({\r\n      showUpdates: false\r\n    })\r\n    this.props.store.ForceSave();\r\n  }\r\n\r\n  render() {\r\n    const { store } = this.props;\r\n    const isReady = store.isReady;\r\n    return (\r\n      <Router basename={process.env.PUBLIC_URL}>\r\n        <Container>\r\n          <Header>\r\n            <Route render={routeProps => (\r\n              <NavBar store={store} {...routeProps} />\r\n            )} />\r\n          </Header>\r\n          <FlexboxGrid justify=\"center\">\r\n            {\r\n              isReady &&\r\n              <Switch>\r\n                <Route path=\"/weapons\" render={routeProps => (\r\n                  <Weapons store={store} {...routeProps} />\r\n                )} />\r\n                <Route path=\"/useful-info\"></Route>\r\n                <Route path=\"/about\">\r\n                  <About onShowUpdate={this.onShowUpdate} />\r\n                </Route>\r\n                <Route path=\"/schedule\">\r\n                  {/* <Content className=\"content schedule\">\r\n                  <Schedule store={store} />\r\n                </Content> */}\r\n                </Route>\r\n                <Route path={[\"/characters/:characterID\", \"*\"]} render={routeProps => (\r\n                  <Characters store={store} {...routeProps} />\r\n                )} />\r\n\r\n              </Switch>\r\n            }\r\n            {\r\n              !isReady &&\r\n              <Icon icon=\"spinner\" spin size=\"2x\" className=\"pageLoading\" />\r\n            }\r\n          </FlexboxGrid>\r\n        </Container>\r\n        <Updates show={this.state.showUpdates} onHide={this.onHideUpdate} />\r\n      </Router>\r\n    );\r\n  }\r\n})\r\n\r\nexport default App;","import { makeAutoObservable, toJS } from \"mobx\";\r\n\r\nimport changeLog from '../changeLog.json';\r\n\r\nclass Store {\r\n  lastVisitVersion = \"0\";\r\n  windowWidth = 0;\r\n\r\n  ready = false;\r\n  needsSave = false;\r\n\r\n  constructor() {\r\n    makeAutoObservable(this, { needsSave: false }, { autoBind: true });\r\n    this.Load();\r\n    setInterval(this.Save, 5000);\r\n    window.addEventListener(\"beforeunload\", () => {\r\n      this.ForceSave();\r\n    })\r\n    window.addEventListener(\"resize\", () => {\r\n      this.Update({\r\n        windowWidth: window.innerWidth\r\n      });\r\n    });\r\n    this.windowWidth = window.innerWidth;\r\n  }\r\n\r\n  Save() {\r\n    if (!this.needsSave) return;\r\n    this.needsSave = false;\r\n    localStorage.setItem(\"local\", JSON.stringify(this.toOBJ));\r\n  }\r\n\r\n  Load() {\r\n    const storedLocal = JSON.parse(localStorage.getItem(\"local\") || \"{}\");\r\n    this.FromOBJ(storedLocal);\r\n    this.ready = true;\r\n  }\r\n\r\n  Defaults() {\r\n    return {\r\n      lastVisitVersion: \"0\"\r\n    }\r\n  }\r\n\r\n  get toOBJ() {\r\n    // const data = toJS(this);\r\n    return {\r\n      lastVisitVersion: changeLog.currentVersion\r\n    }\r\n  }\r\n\r\n  FromOBJ(obj) {\r\n    let changes = this.Defaults();\r\n    for (const key in changes) {\r\n      if (obj.hasOwnProperty(key)) {\r\n        changes[key] = obj[key];\r\n      }\r\n    }\r\n    this.Update(changes);\r\n  }\r\n\r\n  Update(state) {\r\n    for (const key in state) {\r\n      if (this.hasOwnProperty(key)) {\r\n        this[key] = state[key];\r\n      }\r\n    }\r\n    this.needsSave = true;\r\n  }\r\n\r\n  ForceSave() {\r\n    this.needsSave = true\r\n    this.Save();\r\n  }\r\n\r\n  get isXS() {\r\n    return this.windowWidth < 576;\r\n  }\r\n\r\n  get isMD() {\r\n    return this.windowWidth >= 576 && this.windowWidth < 768;\r\n  }\r\n\r\n  get isLG() {\r\n    return this.windowWidth >= 768;\r\n  }\r\n\r\n  get outDated() {\r\n    return this.lastVisitVersion !== changeLog.currentVersion;\r\n  }\r\n\r\n  get isReady() {\r\n    return this.ready;\r\n  }\r\n}\r\n\r\nexport default new Store();","import React from 'react';\nimport ReactDOM from 'react-dom';\n\n// import './css/index.css';\nimport 'rsuite/dist/styles/rsuite-dark.css';\n\nimport App from './components/App';\nimport Store from './store/Store';\n\n// ReactDOM.render(\n//   <React.StrictMode>\n//     <App />\n//   </React.StrictMode>,\n//   document.getElementById('root')\n// );\nReactDOM.render(\n  <App store={Store} />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}